import { useGSAP } from "@gsap/react";
import { ScrollTrigger } from "gsap/ScrollTrigger";
import gsap from "gsap";
import { useRef, type JSX } from "react";
import { cn } from "~/utils/cn";

export function LogoAnimationNoRepeat({
  className,
  disable = false,
}: JSX.IntrinsicElements["svg"] & { disable?: boolean }) {
  const containerRef = useRef<SVGSVGElement>(null);

  useGSAP(() => {
    gsap.registerPlugin(ScrollTrigger);

    if (!containerRef.current) return;

    if (disable) return;

    const paths = containerRef.current.querySelectorAll("path");

    ScrollTrigger.create({
      trigger: containerRef.current,
      onEnter() {
        gsap.fromTo(
          paths,
          {
            y: "400px",
            rotate: "30deg",
            opacity: 0,
          },
          {
            y: "0px",
            opacity: 1,
            rotate: "0deg",
            duration: 1.2,
            stagger: 0.1,
            ease: "power3.out",
          }
        );
      },
    });
  });

  return (
    <svg
      ref={containerRef}
      fill="none"
      viewBox="0 0 139 152"
      className={cn("w-full h-full overflow-visible", className)}
    >
      <path
        d="M3.8717 88.4605L4.75623 59.5659L7.11497 48.6567C15.3214 42.7107 32.0292 30.8187 33.2086 30.8187H59.597L92.7668 19.1725C94.4867 19.7621 99.1944 21.1184 104.266 21.826C110.605 22.7106 114.88 18.4353 116.502 16.3714C117.799 14.7203 118.811 14.4058 119.155 14.455C132.718 15.8702 136.207 26.4452 136.256 31.5558C137.386 45.5609 139.263 76.7552 137.73 89.4924C135.814 105.414 135.077 104.972 128.885 116.176C123.932 125.139 105.789 136.618 97.3369 141.237C92.0788 144.775 79.3514 151.881 70.5062 151.999C61.6609 152.117 42.3487 140.451 33.7982 134.603C30.0144 131.753 20.8546 124.549 14.486 118.534C8.11744 112.52 4.75623 95.979 3.8717 88.4605Z"
        fill="url(#paint0_linear_44_4761)"
      />
      <path
        d="M51.498 133.719V123.252L86.4369 120.746V135.046C86.4369 137.051 85.454 137.945 84.9626 138.142C82.1616 139.714 75.4392 143.036 70.9576 143.744C66.476 144.451 57.8862 140.107 54.1516 137.847C51.7928 136.903 51.3997 134.702 51.498 133.719Z"
        fill="#F4D297"
      />
      <path
        d="M51.3506 104.235C51.3506 100.815 54.1227 98.0429 57.5423 98.0429H81.1297C84.5493 98.0429 87.3214 100.815 87.3214 104.235V114.554C87.3214 117.974 84.5493 120.746 81.1297 120.746H57.5423C54.1227 120.746 51.3506 117.974 51.3506 114.554V104.235Z"
        fill="#F4D297"
      />
      <path
        d="M92.6286 67.0844C92.6286 63.6649 95.4007 60.8927 98.8203 60.8927H122.408C125.827 60.8927 128.599 63.6649 128.599 67.0844V85.9544C128.599 89.374 125.827 92.1461 122.408 92.1461H98.8203C95.4007 92.1461 92.6286 89.374 92.6286 85.9544V67.0844Z"
        fill="#F4D297"
      />
      <path
        d="M94.5355 29.0497C94.5355 25.6301 97.3076 22.858 100.727 22.858H124.315C127.734 22.858 130.506 25.6301 130.506 29.0497V47.9197C130.506 51.3392 127.734 54.1114 124.315 54.1114H100.727C97.3076 54.1114 94.5355 51.3392 94.5355 47.9197V29.0497Z"
        fill="#F4D297"
      />
      <path
        d="M52.373 29.0497C52.373 25.6301 55.1451 22.858 58.5647 22.858H82.1521C85.5717 22.858 88.3438 25.6301 88.3438 29.0497V47.9197C88.3438 51.3392 85.5717 54.1114 82.1521 54.1114H58.5647C55.1451 54.1114 52.373 51.3392 52.373 47.9197V29.0497Z"
        fill="#F4D297"
      />
      <path
        d="M11.095 29.0497C11.095 25.6301 13.8671 22.858 17.2867 22.858H40.8741C44.2937 22.858 47.0658 25.6301 47.0658 29.0497V47.9197C47.0658 51.3392 44.2937 54.1114 40.8741 54.1114H17.2867C13.8671 54.1114 11.095 51.3392 11.095 47.9197V29.0497Z"
        fill="#F4D297"
      />
      <path
        d="M42.2104 99.0749H16.4117C13.1095 100.136 13.5616 103.154 14.2004 104.529C21.5125 118.446 34.1514 127.232 39.5569 129.886C42.977 132.127 44.4218 130.033 44.7166 128.707V102.023C44.7166 99.812 43.0458 99.0749 42.2104 99.0749Z"
        fill="#F4D297"
      />
      <path
        d="M11.095 67.0844C11.095 63.6649 13.8671 60.8927 17.2867 60.8927H40.8741C44.2937 60.8927 47.0658 63.6649 47.0658 67.0844V85.9544C47.0658 89.374 44.2937 92.1461 40.8741 92.1461H17.2867C13.8671 92.1461 11.095 89.374 11.095 85.9544V67.0844Z"
        fill="#F4D297"
      />
      <path
        d="M121.081 110.131C114.241 121.1 101.818 128.854 96.4615 131.36C93.8079 131.36 93.5131 129.444 93.3657 128.854C93.2477 128.382 92.9234 116.176 92.776 110.131L97.4935 100.844C103.194 99.812 115.892 98.0724 121.081 99.3697C127.567 100.991 121.671 109.542 121.081 110.131Z"
        fill="#F4D297"
      />
      <path
        d="M53.2575 67.0844C53.2575 63.6649 56.0297 60.8927 59.4492 60.8927H83.0367C86.4562 60.8927 89.2284 63.6649 89.2284 67.0844V85.9544C89.2284 89.374 86.4562 92.1461 83.0367 92.1461H59.4492C56.0297 92.1461 53.2575 89.374 53.2575 85.9544V67.0844Z"
        fill="#F4D297"
      />
      <path
        d="M111.636 7.6736C115.056 13.8063 108.246 19.2708 104.413 21.2364C103.086 22.1209 98.4863 23.713 90.7025 23.0054C80.9726 22.1209 74.0438 31.1136 71.2428 35.9785C68.4418 40.8434 55.7636 56.1752 42.0534 42.0228C31.0853 30.7008 24.8051 40.2537 23.0361 46.4454C22.9181 60.4799 18.0237 62.8583 14.9279 63.9886C3.8418 67.4087 0.57889 57.2563 0.333198 51.7526C-1.58331 26.9858 6.23002 19.4673 9.62071 15.7818C15.665 11.5066 32.471 0.243565 64.314 0.00769117C96.1571 -0.228183 109.13 5.02002 111.636 7.6736Z"
        fill="url(#paint1_linear_44_4761)"
      />
      <path
        d="M6.67242 62.5144C7.31125 65.2171 8.67735 67.2909 15.5177 64.5783C22.3581 61.8658 22.9379 58.878 23.1836 57.2072C22.9379 52.4406 23.9207 45.2661 25.6898 41.728C26.8692 38.4356 33.2672 36.3029 40.5793 41.728C49.7195 48.5094 45.002 49.3939 55.9112 49.3939C65.4935 49.3939 69.1791 40.696 73.1595 34.2095C77.1398 27.723 86.4274 24.0374 90.5552 24.7745C94.683 25.5116 97.0417 23.4477 100.875 20.7942"
        stroke="#DCA56E"
        strokeWidth="4.42264"
        strokeLinecap="round"
      />
      <mask
        id="mask0_44_4761"
        style={{ maskType: "alpha" }}
        maskUnits="userSpaceOnUse"
        x="0"
        y="0"
        width="48"
        height="28"
      >
        <path
          d="M46.8152 3.21796C48.2495 5.78974 45.3933 8.08127 43.786 8.90556C43.2296 9.27649 41.3007 9.94417 38.0365 9.64742C33.9563 9.27649 31.0507 13.0476 29.876 15.0877C28.7014 17.1279 23.3848 23.5573 17.6353 17.6224C13.0358 12.8745 10.4022 16.8806 9.66032 19.4771C9.61086 25.3625 7.55838 26.3599 6.26012 26.8339C1.61112 28.2681 0.242808 24.0107 0.139776 21.7027C-0.66392 11.3166 2.17989 7.91641 4.03454 6.80362C6.11588 4.57804 13.6169 0.10214 26.9704 0.00322532C40.3239 -0.0956895 45.7643 2.10517 46.8152 3.21796Z"
          fill="#D06A51"
        />
      </mask>
      <g mask="url(#mask0_44_4761)">
        <path
          d="M12.1272 59.4185C7.85194 61.4824 3.08532 58.4849 1.21798 56.3227L-1.87787 61.335L6.81999 67.6741L46.9186 59.4185L85.543 39.2218L116.501 19.0251C116.108 15.3395 114.556 9.11836 111.489 13.7179C107.656 19.4673 94.3883 18.4354 88.6389 17.6983C82.8894 16.9612 74.1916 22.7106 69.9163 28.9023C65.6411 35.094 58.2701 47.6248 47.8031 39.5166C37.3362 31.4085 36.5991 30.5239 28.9332 31.4085C21.2673 32.293 18.024 42.1702 17.8766 48.5093C17.7292 54.8485 17.7987 56.6806 12.1272 59.4185Z"
          fill="#904031"
        />
      </g>
      <path
        d="M103.406 35.5445C102.106 36.8447 98.982 37.8467 95.8218 39.1108C93.2936 40.2751 89.7541 43.2595 95.8218 45.8828L101.51 48.3207C108.824 51.0295 106.928 55.4084 108.553 58.3432C112.67 64.4109 115.506 61.0975 116.409 58.5692C116.679 57.8469 117.546 55.5896 118.847 52.339C120.147 49.0885 125.709 47.3729 128.327 46.9214C134.828 44.4835 132.661 39.391 128.327 38.5242C116.138 36.0863 118.576 30.6687 115.325 25.2511C112.725 20.917 109.908 23.4452 108.824 25.2511C106.386 33.3775 105.032 33.9192 103.406 35.5445Z"
        fill="url(#paint2_linear_44_4761)"
      />
      <path
        d={`M ${48.3928 - 7.81333},${75.6348} a ${7.81333},${9.43497} 0 1,0 ${
          2 * 7.81333
        },0 a ${7.81333},${9.43497} 0 1,0 -${2 * 7.81333},0 `}
        fill="url(#paint3_linear_44_4761)"
      />

      <path
        d={`M ${91.7345 - 7.81333},${75.6348} a ${7.81333},${9.43497} 0 1,0 ${
          2 * 7.81333
        },0 a ${7.81333},${9.43497} 0 1,0 -${2 * 7.81333},0`}
        fill="url(#paint4_linear_44_4761)"
      />
      <path
        d="M70.506 85.9544C66.614 86.0723 64.3634 84.0379 63.7246 83.006C62.3978 82.5146 59.8032 82.3868 60.039 85.807C61.4543 88.8733 65.0514 90.6719 67.7049 91.1141C68.3929 91.1141 70.2111 91.2616 71.9802 91.2616C74.1915 91.2616 80.0883 89.3451 80.3832 85.3647C80.6191 82.1804 78.221 82.4654 76.9925 83.006C76.452 83.9396 74.3979 85.8365 70.506 85.9544Z"
        fill="#3A0202"
      />
      <path
        d="M65.4936 116.765L44.5597 100.696C34.8299 95.5367 33.3557 104.235 35.567 107.92L64.1668 135.93C69.8278 140.412 75.5674 137.798 77.7296 135.93L87.3119 125.316L111.636 95.5367L125.936 77.1091C127.823 68.6176 120.678 68.706 117.386 70.3277L101.022 88.6079C94.0933 96.323 79.2038 112.756 75.076 116.765C70.9539 120.77 67.7139 118.394 65.5028 116.772L65.4936 116.765Z"
        fill="url(#paint5_linear_44_4761)"
      />
      <path
        d="M6.08328 42.7599C6.03414 34.3078 10.5354 16.7253 28.9336 14.0128"
        stroke="#EB957B"
        strokeWidth="4.42264"
        strokeLinecap="round"
      />
      <defs>
        <linearGradient
          id="paint0_linear_44_4761"
          x1="53.5527"
          y1="51.3103"
          x2="127.853"
          y2="217.307"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#FFE5A9" />
          <stop offset="1" stopColor="white" />
        </linearGradient>
        <linearGradient
          id="paint1_linear_44_4761"
          x1="59.4491"
          y1="10.622"
          x2="89.6705"
          y2="55.8804"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#D06A51" />
          <stop offset="1" stopColor="#6A3629" />
        </linearGradient>
        <linearGradient
          id="paint2_linear_44_4761"
          x1="112.451"
          y1="22.858"
          x2="112.451"
          y2="61.7773"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="white" />
          <stop offset="1" stopColor="#FFF0AB" />
        </linearGradient>
        <linearGradient
          id="paint3_linear_44_4761"
          x1="48.3928"
          y1="66.1999"
          x2="48.3928"
          y2="85.0698"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#0C1A28" />
          <stop offset="1" stopColor="#9E1C1E" />
        </linearGradient>
        <linearGradient
          id="paint4_linear_44_4761"
          x1="91.7345"
          y1="66.1999"
          x2="91.7345"
          y2="85.0698"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#0C1A28" />
          <stop offset="1" stopColor="#9E1C1E" />
        </linearGradient>
        <linearGradient
          id="paint5_linear_44_4761"
          x1="80.3831"
          y1="86.1018"
          x2="80.3831"
          y2="145.218"
          gradientUnits="userSpaceOnUse"
        >
          <stop stopColor="#C9654D" />
          <stop offset="0.696835" stopColor="#633226" />
        </linearGradient>
      </defs>
    </svg>
  );
}
